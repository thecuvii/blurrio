import { resolve } from "node:path";
import { describe, expect, it } from "vitest";
import { generate } from "../src/node";

describe("node", () => {
  it("works", async () => {
    const blur = await generate(resolve(__dirname, "../public/example.jpg"));
    expect(blur).toMatchInlineSnapshot(`"data:image/webp;base64,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"`)
  });
});
